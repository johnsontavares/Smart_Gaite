{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\REINALDO\\\\Desktop\\\\ls-gait-web\\\\dashboard\\\\src\\\\pages\\\\register\\\\confirmEmail\\\\component\\\\clocker.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Botao from './botao';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Clock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      contador: 60,\n      estado: \"Confirmar e-mail\"\n    };\n    this.handleContadorplus = this.handleContadorplus.bind(this);\n    this.handleContadorminus = this.handleContadorminus.bind(this);\n    this.aumentar = this.aumentar.bind(this);\n  }\n\n  async handleContadorplus(e) {\n    e.preventDefault();\n    const email = sessionStorage.getItem('emailValidator');\n    axios({\n      method: 'POST',\n      url: '`http://localhost:8081/sendEmailController',\n      body: {\n        body: localStorage.getItem('emailValidator')\n      }\n    });\n\n    if (this.state.estado === \"Confirmar e-mail\") {\n      this.setState({\n        estado: \"LOADING...\"\n      });\n      this._interval = setInterval(this.aumentar, 1000);\n    } else if (this.state.estado === \"LOADING...\") {\n      this.setState({\n        estado: \"Confirmar e-mail\"\n      });\n      clearInterval(this._interval);\n    }\n  }\n\n  aumentar(e) {\n    if (this.state.estado === \"LOADING...\") {\n      this.setState({\n        contador: this.state.contador - 1\n      });\n\n      if (this.state.contador === 0) {\n        window.location.href = '/';\n      }\n    }\n  }\n\n  async handleContadorminus() {\n    const email = sessionStorage.getItem('emailValidator');\n    const j = JSON.parse(email);\n    console.log(\"enviando email...\", j.email);\n\n    try {\n      const response = await Api.post('sendEmailController', email);\n\n      if (response.status === 200) {\n        alert('Seu link foi reenviado!');\n        window.location.href = '/';\n        sessionStorage.clear();\n      }\n    } catch (error) {\n      const {\n        data\n      } = error.response;\n      alert(data.message);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: this.state.contador\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Botao, {\n        text: this.state.estado,\n        onClick: this.handleContadorplus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Botao, {\n        text: \"Reenviar\",\n        onClick: this.handleContadorminus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/REINALDO/Desktop/ls-gait-web/dashboard/src/pages/register/confirmEmail/component/clocker.js"],"names":["React","axios","Botao","Clock","Component","constructor","state","contador","estado","handleContadorplus","bind","handleContadorminus","aumentar","e","preventDefault","email","sessionStorage","getItem","method","url","body","localStorage","setState","_interval","setInterval","clearInterval","window","location","href","j","JSON","parse","console","log","response","Api","post","status","alert","clear","error","data","message","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport Botao from './botao';\r\nexport default class Clock extends React.Component {\r\n\r\n    constructor (){\r\n        super();\r\n        this.state={\r\n          contador:60,\r\n          estado:\"Confirmar e-mail\",\r\n          \r\n        }\r\n        \r\n        this.handleContadorplus= this.handleContadorplus.bind(this);\r\n        this.handleContadorminus= this.handleContadorminus.bind(this);\r\n        this.aumentar= this.aumentar.bind(this);\r\n      }\r\n    \r\n      \r\n      async handleContadorplus(e){\r\n        e.preventDefault();\r\n        const email =  sessionStorage.getItem('emailValidator');\r\n       \r\n        axios({\r\n          method:'POST',\r\n          url:'`http://localhost:8081/sendEmailController',\r\n          body:{\r\n            body: localStorage.getItem('emailValidator')\r\n          }\r\n        })\r\n         \r\n        if (this.state.estado===\"Confirmar e-mail\"){\r\n          this.setState({\r\n            estado: \"LOADING...\"\r\n          });\r\n          this._interval=setInterval(this.aumentar,1000);\r\n          }\r\n        else if (this.state.estado===\"LOADING...\"){\r\n            this.setState({\r\n              estado: \"Confirmar e-mail\"\r\n          });\r\n          clearInterval(this._interval);\r\n         \r\n        }\r\n    \r\n      }\r\n      aumentar(e){\r\n        \r\n        if(this.state.estado===\"LOADING...\"){\r\n          this.setState({\r\n            contador: this.state.contador-1\r\n            \r\n          });\r\n          \r\n          if(this.state.contador === 0){\r\n            window.location.href= '/';\r\n        }\r\n        }\r\n      }\r\n      async handleContadorminus(){\r\n        const email = sessionStorage.getItem('emailValidator');\r\n        const j = JSON.parse(email);\r\n       \r\n        console.log(\"enviando email...\",j.email);\r\n        \r\n        try {\r\n          const response = await Api.post('sendEmailController',email);\r\n          if(response.status === 200){\r\n            alert('Seu link foi reenviado!');\r\n            window.location.href= '/';\r\n            sessionStorage.clear();\r\n          }\r\n        } catch (error) {\r\n          const { data } = error.response;\r\n          alert(data.message);\r\n        }\r\n       \r\n      }\r\n      \r\n      render() {\r\n        \r\n        return (\r\n          <div className=\" text-center\">\r\n    \r\n            <h1>{this.state.contador}</h1>\r\n            <Botao  text={this.state.estado}   onClick={this.handleContadorplus}/>\r\n            <Botao text=\"Reenviar\"  onClick={this.handleContadorminus}/> \r\n          </div>\r\n        );\r\n      }\r\n    }"]},"metadata":{},"sourceType":"module"}